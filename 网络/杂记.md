# 杂记

## 正向代理与反向代理

![代理](../attach/正向代理+反向代理.png)

## https

### 介绍

HTTPS：是以安全为目标的HTTP通道，简单讲是HTTP的安全版，即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。
HTTPS协议的主要作用可以分为两种：一种是建立一个信息安全通道，来保证数据传输的安全；另一种就是确认网站的真实性。

HTTPS和HTTP的区别主要如下：

1. https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用。
2. http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。
3. http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。
4. http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。

### https建立连接过程

![alt](../attach/https过程.gif)

在https中，不仅服务端会产生一个私钥，并发给客户端一个公钥。客户端也会产生一个随机的通讯密码（图中的对称密钥），用于通信过程的加密。

### 扩展

#### 公钥、私钥、数字签名

公钥加密，私钥解密，一般用于数据传输加密。
私钥加密，公钥解密，一般用于数字签名。

RSA签名的整个过程：

1. 发送方采用某种摘要算法从报文中生成一个128位的散列值（称为报文摘要）；
2. 发送方用RSA算法和自己的私钥对这个散列值进行加密，产生一个摘要密文，这就是发送方的数字签名；
3. 将这个加密后的数字签名作为报文的附件和报文一起发送给接收方：
4. 接收方从接收到的原始报文中采用相同的摘要算法计算出128位的散列值；
5. 报文的接收方用RSA算法和发送方的公钥对报文附加的数字签名进行解密；
6. 如果两个散列值相同，那么接收方就能确认报文是由发送方签名的。
